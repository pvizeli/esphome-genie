# For format details, see https://aka.ms/devcontainer.json
# For config options, see https://github.com/devcontainers/templates/tree/main/src/alpine

name: "ESPHome Genie Development Container"

# Base image
image: "mcr.microsoft.com/devcontainers/base:alpine-3.20"

# Features to add to the dev container
# More info: https://containers.dev/features
features:
  # GitHub CLI for managing PRs and issues
  ghcr.io/devcontainers/features/github-cli:1:
    version: "latest"

  # Python 3 for ESPHome and development tools
  ghcr.io/devcontainers/features/python:1:
    version: "3.12"
    installTools: true

# Use 'postCreateCommand' to run commands after the container is created
postCreateCommand: |
  echo "Installing ESPHome..."
  python3 -m pip install --user esphome
  echo "Development environment ready!"

# Uncomment to connect as root instead
# More info: https://aka.ms/dev-containers-non-root
# remoteUser: "root"
